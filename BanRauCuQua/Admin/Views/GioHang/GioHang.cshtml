@using Admin.Models
@model List<GioHang>
@{
    ViewBag.Title = "Giỏ hàng";
    Layout = "~/Views/Shared/_Layout.cshtml";
}

<h2>Giỏ hàng của bạn</h2>
<table id="divGioHang">
    <tr>
        <td width="10%">Mã sản phẩm</td>
        <td width="15%">Tên sản phẩm</td>
        <td width="15%">Ảnh bìa</td>
        <td width="15%">Đơn giá</td>
        <td width="10%">Số lượng</td>
        <td width="5%">Đơn vị</td>
        <td width="15%">Thành tiền</td>
    </tr>

    @foreach (var item in Model)
    {
        <tr>
            <td>@item.iMaSP</td>
            <td>@item.sTenSP</td>
            <td><img src="@Url.Content("~/Content/images/sanpham/"+item.sAnh)" width="130" height="150" /></td>
            <td>@String.Format("{0:0,0}", item.dDonGia.ToString()) VNĐ</td>
            <td>@item.iSoLuong</td>
            <td>@item.sDonVi</td>
            <td>@String.Format("{0:0,0}", item.ThanhTien.ToString()) VNĐ</td>
        </tr>
    }
    <tr>
        <td colspan="7" style="text-align:right;color:blue">
            Tổng tiền: @((Session["GioHang"] as List<GioHang>).Sum(m => m.ThanhTien)) VNĐ
        </td>
    </tr>
    <tr>
        <td colspan="7" style="text-align:right;color:blue">
            @Html.ActionLink("Chỉnh sửa giỏ hàng", "SuaGioHang")
        </td>
    </tr>
    <tr>
        <td colspan="7" style="text-align:right;color:blue">
            @using (Html.BeginForm("DatHang", "GioHang"))
            {
                <input type="submit" value="Đặt hàng" />
            }
        </td>
    </tr>

</table>
@*Css giỏ hàng*@
<style>
    #divGioHang {
        border: 1px solid #EEEEEE;
        width: 100%;
        height: auto;
    }

        #divGioHang td {
            padding: 10px;
            border: 1px solid #EEEEEE;
        }
</style>
